<div class="w-full border border-gray-300 rounded-xl mb-4 p-3">
  <div class="flex">
    <div>
      {% include "mixins/user_avatar.html" with user=board.host h_and_w='w-10 h-10' text='text-xl' %}
    </div>
    <div class="flex flex-col ml-3 w-full">
      <div class="flex justify-between">
      <span class="font-medium"><a href="{{board.host.get_absolute_url}}">{{board.host}}</a>
  
        <a class="text-green-400 hover:text-green-600 font-bold text-sm btn_follow cursor-pointer ml-1" name="{{board.pk}}" type="button">
          {% if board.host in user.followings.all %}
            <span id="label-{{board.pk}}">팔로우 취소</span>
          {% elif user == board.host%}
            <span></span>
          {% else %}
            <span id="label-{{board.pk}}">팔로우</span>
          {% endif %}
        </a>
        
      </span>
      <script src="https://cdn.jsdelivr.net/gh/alpinejs/alpine@v2.x.x/dist/alpine.min.js" defer></script>

        <div class="flex justify-center">
          <div class="flex items-center">
            <span class="border"></span>
              <div x-data="{ dropdownOpen: false }" class="relative">
                <button @click="dropdownOpen = !dropdownOpen" class="relative z-10 block rounded p-1 focus:outline-none">
                  <svg class="h-6 w-6 text-gray-400" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 12h.01M12 12h.01M19 12h.01M6 12a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0z" />
                  </svg>
                </button>
                <div x-show="dropdownOpen" class="absolute right-0 mt-2 w-24 bg-white rounded-md overflow-hidden shadow-xl z-20">
                  <a href="#" class="block px-4 py-2 text-sm text-gray-800 border-b hover:bg-gray-200">수정</a>
                  <a href="#" class="block px-4 py-2 text-sm text-gray-800 border-b hover:bg-gray-200">삭제</a>
                </div>
              </div>
          </div>
        </div>
      </div>
      <span class="text-xs font-light text-gray-600 -mt-2" id="follow-count-{{board.host.pk}}">팔로워 {{board.host.follower.following.count}}</span>
    </div>
  </div>
    
    <div class="border-b mb-2 mt-2">
        <p class="mb-2 mx-1.5">
            {{board.description}}
        </p>
    </div>
    <div class="border-b mb-2">
      <a class="btn_like cursor-pointer" name="{{board.pk}}" type="button">        
        {% if board in user.like_boards.all %}
        <span id="icon-{{board.pk}}"><i class="fas fa-heart mb-2 mx-1.5 text-red-400"></i></span>
        {% else %}
        <span id="icon-{{board.pk}}"><i class="far fa-heart mb-2 mx-1.5 text-red-400"></i></span>
        {% endif %}
        <span id="count-{{board.pk}}" class="text-gray-600">{{board.like_count}}</span>
      </a>
    </div>
    <div>
      <button class="hover:bg-gray-200 rounded-md p-1 focus:outline-none btn_toggle" data-id="{{board.pk}}"><i class="far fa-comment-alt"></i><span class="ml-2">댓글</span></button>
    </div>
    <div class="hidden" id="til{{board.pk}}">
      {% for comment in board.comment.all %}
      <div class="border-section mb-2 mt-3">
        <div class="mb-3 flex">
            <div>
                {% include "mixins/user_avatar.html" with user=comment.user h_and_w='w-7 h-7' text='text-lg' %}
            </div>
            <div class="flex flex-col ml-2 bg-gray-100 w-full p-2 rounded-md">
                <span class="text-xs">{{comment.user.first_name}}</span>
                <span class="text-xs text-gray-500">{{comment.created|date:'F Y'}}</span>
                <span class="text-sm">{{comment.comment}}</span>
            </div>
        </div>
    </div>   
      {% endfor %}
    </div>
</div>
